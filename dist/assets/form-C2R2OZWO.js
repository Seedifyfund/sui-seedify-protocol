import{R as x,r as q,s as Hr,_ as Kr,j as se,c as he,m as Gr,p as zr}from"./index-DJbGr_XK.js";var be=e=>e.type==="checkbox",le=e=>e instanceof Date,P=e=>e==null;const vr=e=>typeof e=="object";var M=e=>!P(e)&&!Array.isArray(e)&&vr(e)&&!le(e),_r=e=>M(e)&&e.target?be(e.target)?e.target.checked:e.target.value:e,Jr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,hr=(e,t)=>e.has(Jr(t)),Qr=e=>{const t=e.constructor&&e.constructor.prototype;return M(t)&&t.hasOwnProperty("isPrototypeOf")},Je=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function U(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Je&&(e instanceof Blob||e instanceof FileList))&&(r||M(e)))if(t=r?[]:{},!r&&!Qr(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=U(e[s]));else return e;return t}var fe=e=>Array.isArray(e)?e.filter(Boolean):[],C=e=>e===void 0,f=(e,t,r)=>{if(!t||!M(e))return r;const s=fe(t.split(/[,[\].]+?/)).reduce((n,a)=>P(n)?n:n[a],e);return C(s)||s===e?C(e[t])?r:e[t]:s},ee=e=>typeof e=="boolean",Qe=e=>/^\w*$/.test(e),br=e=>fe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),k=(e,t,r)=>{let s=-1;const n=Qe(t)?[t]:br(t),a=n.length,l=a-1;for(;++s<a;){const y=n[s];let h=r;if(s!==l){const w=e[y];h=M(w)||Array.isArray(w)?w:isNaN(+n[s+1])?{}:[]}if(y==="__proto__")return;e[y]=h,e=e[y]}return e};const pe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},z={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},te={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Fr=x.createContext(null),Fe=()=>x.useContext(Fr),Xr=e=>{const{children:t,...r}=e;return x.createElement(Fr.Provider,{value:r},t)};var xr=(e,t,r,s=!0)=>{const n={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(n,a,{get:()=>{const l=a;return t._proxyFormState[l]!==z.all&&(t._proxyFormState[l]=!s||z.all),r&&(r[l]=!0),e[l]}});return n},B=e=>M(e)&&!Object.keys(e).length,Ar=(e,t,r,s)=>{r(e);const{name:n,...a}=e;return B(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(l=>t[l]===(!s||z.all))},W=e=>Array.isArray(e)?e:[e],Vr=(e,t,r)=>!e||!t||e===t||W(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s)));function ke(e){const t=x.useRef(e);t.current=e,x.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function Yr(e){const t=Fe(),{control:r=t.control,disabled:s,name:n,exact:a}=e||{},[l,y]=x.useState(r._formState),h=x.useRef(!0),w=x.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),F=x.useRef(n);return F.current=n,ke({disabled:s,next:_=>h.current&&Vr(F.current,_.name,a)&&Ar(_,w.current,r._updateFormState)&&y({...r._formState,..._}),subject:r._subjects.state}),x.useEffect(()=>(h.current=!0,w.current.isValid&&r._updateValid(!0),()=>{h.current=!1}),[r]),xr(l,r,w.current,!1)}var re=e=>typeof e=="string",pr=(e,t,r,s,n)=>re(e)?(s&&t.watch.add(e),f(r,e,n)):Array.isArray(e)?e.map(a=>(s&&t.watch.add(a),f(r,a))):(s&&(t.watchAll=!0),r);function Zr(e){const t=Fe(),{control:r=t.control,name:s,defaultValue:n,disabled:a,exact:l}=e||{},y=x.useRef(s);y.current=s,ke({disabled:a,subject:r._subjects.values,next:F=>{Vr(y.current,F.name,l)&&w(U(pr(y.current,r._names,F.values||r._formValues,!1,n)))}});const[h,w]=x.useState(r._getWatch(s,n));return x.useEffect(()=>r._removeUnmounted()),h}function et(e){const t=Fe(),{name:r,disabled:s,control:n=t.control,shouldUnregister:a}=e,l=hr(n._names.array,r),y=Zr({control:n,name:r,defaultValue:f(n._formValues,r,f(n._defaultValues,r,e.defaultValue)),exact:!0}),h=Yr({control:n,name:r}),w=x.useRef(n.register(r,{...e.rules,value:y,...ee(e.disabled)?{disabled:e.disabled}:{}}));return x.useEffect(()=>{const F=n._options.shouldUnregister||a,_=(E,H)=>{const L=f(n._fields,E);L&&(L._f.mount=H)};if(_(r,!0),F){const E=U(f(n._options.defaultValues,r));k(n._defaultValues,r,E),C(f(n._formValues,r))&&k(n._formValues,r,E)}return()=>{(l?F&&!n._state.action:F)?n.unregister(r):_(r,!1)}},[r,n,l,a]),x.useEffect(()=>{f(n._fields,r)&&n._updateDisabledField({disabled:s,fields:n._fields,name:r,value:f(n._fields,r)._f.value})},[s,r,n]),{field:{name:r,value:y,...ee(s)||h.disabled?{disabled:h.disabled||s}:{},onChange:x.useCallback(F=>w.current.onChange({target:{value:_r(F),name:r},type:pe.CHANGE}),[r]),onBlur:x.useCallback(()=>w.current.onBlur({target:{value:f(n._formValues,r),name:r},type:pe.BLUR}),[r,n]),ref:F=>{const _=f(n._fields,r);_&&F&&(_._f.ref={focus:()=>F.focus(),select:()=>F.select(),setCustomValidity:E=>F.setCustomValidity(E),reportValidity:()=>F.reportValidity()})}},formState:h,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!f(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!f(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!f(h.validatingFields,r)},error:{enumerable:!0,get:()=>f(h.errors,r)}})}}const rt=e=>e.render(et(e));var wr=(e,t,r,s,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:n||!0}}:{},ie=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},Ue=(e,t,r={})=>r.shouldFocus||C(r.shouldFocus)?r.focusName||`${e}.${C(r.focusIndex)?t:r.focusIndex}.`:"",_e=e=>({isOnSubmit:!e||e===z.onSubmit,isOnBlur:e===z.onBlur,isOnChange:e===z.onChange,isOnAll:e===z.all,isOnTouch:e===z.onTouched}),Ge=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const ce=(e,t,r,s)=>{for(const n of r||Object.keys(e)){const a=f(e,n);if(a){const{_f:l,...y}=a;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],n)&&!s)break;if(l.ref&&t(l.ref,l.name)&&!s)break;ce(y,t)}else M(y)&&ce(y,t)}}};var Dr=(e,t,r)=>{const s=fe(f(e,r));return k(s,"root",t[r]),k(e,r,s),e},Xe=e=>e.type==="file",ae=e=>typeof e=="function",we=e=>{if(!Je)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ve=e=>re(e),Ye=e=>e.type==="radio",De=e=>e instanceof RegExp;const lr={value:!1,isValid:!1},cr={value:!0,isValid:!0};var Sr=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!C(e[0].attributes.value)?C(e[0].value)||e[0].value===""?cr:{value:e[0].value,isValid:!0}:cr:lr}return lr};const fr={isValid:!1,value:null};var Er=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,fr):fr;function dr(e,t,r="validate"){if(Ve(e)||Array.isArray(e)&&e.every(Ve)||ee(e)&&!e)return{type:r,message:Ve(e)?e:"",ref:t}}var oe=e=>M(e)&&!De(e)?e:{value:e,message:""},ze=async(e,t,r,s,n)=>{const{ref:a,refs:l,required:y,maxLength:h,minLength:w,min:F,max:_,pattern:E,validate:H,name:L,valueAsNumber:de,mount:Y,disabled:Z}=e._f,p=f(t,L);if(!Y||Z)return{};const J=l?l[0]:a,Q=V=>{s&&J.reportValidity&&(J.setCustomValidity(ee(V)?"":V||""),J.reportValidity())},m={},b=Ye(a),A=be(a),R=b||A,K=(de||Xe(a))&&C(a.value)&&C(p)||we(a)&&a.value===""||p===""||Array.isArray(p)&&!p.length,j=wr.bind(null,L,r,m),xe=(V,D,O,T=te.maxLength,X=te.minLength)=>{const G=V?D:O;m[L]={type:V?T:X,message:G,ref:a,...j(V?T:X,G)}};if(n?!Array.isArray(p)||!p.length:y&&(!R&&(K||P(p))||ee(p)&&!p||A&&!Sr(l).isValid||b&&!Er(l).isValid)){const{value:V,message:D}=Ve(y)?{value:!!y,message:y}:oe(y);if(V&&(m[L]={type:te.required,message:D,ref:J,...j(te.required,D)},!r))return Q(D),m}if(!K&&(!P(F)||!P(_))){let V,D;const O=oe(_),T=oe(F);if(!P(p)&&!isNaN(p)){const X=a.valueAsNumber||p&&+p;P(O.value)||(V=X>O.value),P(T.value)||(D=X<T.value)}else{const X=a.valueAsDate||new Date(p),G=me=>new Date(new Date().toDateString()+" "+me),ye=a.type=="time",ge=a.type=="week";re(O.value)&&p&&(V=ye?G(p)>G(O.value):ge?p>O.value:X>new Date(O.value)),re(T.value)&&p&&(D=ye?G(p)<G(T.value):ge?p<T.value:X<new Date(T.value))}if((V||D)&&(xe(!!V,O.message,T.message,te.max,te.min),!r))return Q(m[L].message),m}if((h||w)&&!K&&(re(p)||n&&Array.isArray(p))){const V=oe(h),D=oe(w),O=!P(V.value)&&p.length>+V.value,T=!P(D.value)&&p.length<+D.value;if((O||T)&&(xe(O,V.message,D.message),!r))return Q(m[L].message),m}if(E&&!K&&re(p)){const{value:V,message:D}=oe(E);if(De(V)&&!p.match(V)&&(m[L]={type:te.pattern,message:D,ref:a,...j(te.pattern,D)},!r))return Q(D),m}if(H){if(ae(H)){const V=await H(p,t),D=dr(V,J);if(D&&(m[L]={...D,...j(te.validate,D.message)},!r))return Q(D.message),m}else if(M(H)){let V={};for(const D in H){if(!B(V)&&!r)break;const O=dr(await H[D](p,t),J,D);O&&(V={...O,...j(D,O.message)},Q(O.message),r&&(m[L]=V))}if(!B(V)&&(m[L]={ref:J,...V},!r))return m}}return Q(!0),m},Me=(e,t)=>[...e,...W(t)],Le=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Te(e,t,r){return[...e.slice(0,t),...W(r),...e.slice(t)]}var je=(e,t,r)=>Array.isArray(e)?(C(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],Pe=(e,t)=>[...W(t),...W(e)];function tt(e,t){let r=0;const s=[...e];for(const n of t)s.splice(n-r,1),r++;return fe(s).length?s:[]}var Be=(e,t)=>C(t)?[]:tt(e,W(t).sort((r,s)=>r-s)),$e=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]};function st(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=C(e)?s++:e[t[s++]];return e}function it(e){for(const t in e)if(e.hasOwnProperty(t)&&!C(e[t]))return!1;return!0}function N(e,t){const r=Array.isArray(t)?t:Qe(t)?[t]:br(t),s=r.length===1?e:st(e,r),n=r.length-1,a=r[n];return s&&delete s[a],n!==0&&(M(s)&&B(s)||Array.isArray(s)&&it(s))&&N(e,r.slice(0,-1)),e}var yr=(e,t,r)=>(e[t]=r,e);function Rt(e){const t=Fe(),{control:r=t.control,name:s,keyName:n="id",shouldUnregister:a}=e,[l,y]=x.useState(r._getFieldArray(s)),h=x.useRef(r._getFieldArray(s).map(ie)),w=x.useRef(l),F=x.useRef(s),_=x.useRef(!1);F.current=s,w.current=l,r._names.array.add(s),e.rules&&r.register(s,e.rules),ke({next:({values:m,name:b})=>{if(b===F.current||!b){const A=f(m,F.current);Array.isArray(A)&&(y(A),h.current=A.map(ie))}},subject:r._subjects.array});const E=x.useCallback(m=>{_.current=!0,r._updateFieldArray(s,m)},[r,s]),H=(m,b)=>{const A=W(U(m)),R=Me(r._getFieldArray(s),A);r._names.focus=Ue(s,R.length-1,b),h.current=Me(h.current,A.map(ie)),E(R),y(R),r._updateFieldArray(s,R,Me,{argA:Le(m)})},L=(m,b)=>{const A=W(U(m)),R=Pe(r._getFieldArray(s),A);r._names.focus=Ue(s,0,b),h.current=Pe(h.current,A.map(ie)),E(R),y(R),r._updateFieldArray(s,R,Pe,{argA:Le(m)})},de=m=>{const b=Be(r._getFieldArray(s),m);h.current=Be(h.current,m),E(b),y(b),r._updateFieldArray(s,b,Be,{argA:m})},Y=(m,b,A)=>{const R=W(U(b)),K=Te(r._getFieldArray(s),m,R);r._names.focus=Ue(s,m,A),h.current=Te(h.current,m,R.map(ie)),E(K),y(K),r._updateFieldArray(s,K,Te,{argA:m,argB:Le(b)})},Z=(m,b)=>{const A=r._getFieldArray(s);$e(A,m,b),$e(h.current,m,b),E(A),y(A),r._updateFieldArray(s,A,$e,{argA:m,argB:b},!1)},p=(m,b)=>{const A=r._getFieldArray(s);je(A,m,b),je(h.current,m,b),E(A),y(A),r._updateFieldArray(s,A,je,{argA:m,argB:b},!1)},J=(m,b)=>{const A=U(b),R=yr(r._getFieldArray(s),m,A);h.current=[...R].map((K,j)=>!K||j===m?ie():h.current[j]),E(R),y([...R]),r._updateFieldArray(s,R,yr,{argA:m,argB:A},!0,!1)},Q=m=>{const b=W(U(m));h.current=b.map(ie),E([...b]),y([...b]),r._updateFieldArray(s,[...b],A=>A,{},!0,!1)};return x.useEffect(()=>{if(r._state.action=!1,Ge(s,r._names)&&r._subjects.state.next({...r._formState}),_.current&&(!_e(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([s]).then(m=>{const b=f(m.errors,s),A=f(r._formState.errors,s);(A?!b&&A.type||b&&(A.type!==b.type||A.message!==b.message):b&&b.type)&&(b?k(r._formState.errors,s,b):N(r._formState.errors,s),r._subjects.state.next({errors:r._formState.errors}))});else{const m=f(r._fields,s);m&&m._f&&!(_e(r._options.reValidateMode).isOnSubmit&&_e(r._options.mode).isOnSubmit)&&ze(m,r._formValues,r._options.criteriaMode===z.all,r._options.shouldUseNativeValidation,!0).then(b=>!B(b)&&r._subjects.state.next({errors:Dr(r._formState.errors,b,s)}))}r._subjects.values.next({name:s,values:{...r._formValues}}),r._names.focus&&ce(r._fields,(m,b)=>{if(r._names.focus&&b.startsWith(r._names.focus)&&m.focus)return m.focus(),1}),r._names.focus="",r._updateValid(),_.current=!1},[l,s,r]),x.useEffect(()=>(!f(r._formValues,s)&&r._updateFieldArray(s),()=>{(r._options.shouldUnregister||a)&&r.unregister(s)}),[s,r,n,a]),{swap:x.useCallback(Z,[E,s,r]),move:x.useCallback(p,[E,s,r]),prepend:x.useCallback(L,[E,s,r]),append:x.useCallback(H,[E,s,r]),remove:x.useCallback(de,[E,s,r]),insert:x.useCallback(Y,[E,s,r]),update:x.useCallback(J,[E,s,r]),replace:x.useCallback(Q,[E,s,r]),fields:x.useMemo(()=>l.map((m,b)=>({...m,[n]:h.current[b]||ie()})),[l,n])}}var We=()=>{let e=[];return{get observers(){return e},next:n=>{for(const a of e)a.next&&a.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(a=>a!==n)}}),unsubscribe:()=>{e=[]}}},Se=e=>P(e)||!vr(e);function ne(e,t){if(Se(e)||Se(t))return e===t;if(le(e)&&le(t))return e.getTime()===t.getTime();const r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(const n of r){const a=e[n];if(!s.includes(n))return!1;if(n!=="ref"){const l=t[n];if(le(a)&&le(l)||M(a)&&M(l)||Array.isArray(a)&&Array.isArray(l)?!ne(a,l):a!==l)return!1}}return!0}var kr=e=>e.type==="select-multiple",at=e=>Ye(e)||be(e),qe=e=>we(e)&&e.isConnected,Cr=e=>{for(const t in e)if(ae(e[t]))return!0;return!1};function Ee(e,t={}){const r=Array.isArray(e);if(M(e)||r)for(const s in e)Array.isArray(e[s])||M(e[s])&&!Cr(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Ee(e[s],t[s])):P(e[s])||(t[s]=!0);return t}function Rr(e,t,r){const s=Array.isArray(e);if(M(e)||s)for(const n in e)Array.isArray(e[n])||M(e[n])&&!Cr(e[n])?C(t)||Se(r[n])?r[n]=Array.isArray(e[n])?Ee(e[n],[]):{...Ee(e[n])}:Rr(e[n],P(t)?{}:t[n],r[n]):r[n]=!ne(e[n],t[n]);return r}var Ae=(e,t)=>Rr(e,t,Ee(t)),Ir=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>C(e)?e:t?e===""?NaN:e&&+e:r&&re(e)?new Date(e):s?s(e):e;function He(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return Xe(t)?t.files:Ye(t)?Er(e.refs).value:kr(t)?[...t.selectedOptions].map(({value:r})=>r):be(t)?Sr(e.refs).value:Ir(C(t.value)?e.ref.value:t.value,e)}var nt=(e,t,r,s)=>{const n={};for(const a of e){const l=f(t,a);l&&k(n,a,l._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:s}},ve=e=>C(e)?e:De(e)?e.source:M(e)?De(e.value)?e.value.source:e.value:e,ut=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function gr(e,t,r){const s=f(e,r);if(s||Qe(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const a=n.join("."),l=f(t,a),y=f(e,a);if(l&&!Array.isArray(l)&&r!==a)return{name:r};if(y&&y.type)return{name:a,error:y};n.pop()}return{name:r}}var ot=(e,t,r,s,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(t||e):(r?s.isOnBlur:n.isOnBlur)?!e:(r?s.isOnChange:n.isOnChange)?e:!0,lt=(e,t)=>!fe(f(e,t)).length&&N(e,t);const ct={mode:z.onSubmit,reValidateMode:z.onChange,shouldFocusError:!0};function ft(e={}){let t={...ct,...e},r={submitCount:0,isDirty:!1,isLoading:ae(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},n=M(t.defaultValues)||M(t.values)?U(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:U(n),l={action:!1,mount:!1,watch:!1},y={mount:new Set,unMount:new Set,array:new Set,watch:new Set},h,w=0;const F={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},_={values:We(),array:We(),state:We()},E=_e(t.mode),H=_e(t.reValidateMode),L=t.criteriaMode===z.all,de=i=>u=>{clearTimeout(w),w=setTimeout(i,u)},Y=async i=>{if(F.isValid||i){const u=t.resolver?B((await R()).errors):await j(s,!0);u!==r.isValid&&_.state.next({isValid:u})}},Z=(i,u)=>{(F.isValidating||F.validatingFields)&&((i||Array.from(y.mount)).forEach(o=>{o&&(u?k(r.validatingFields,o,u):N(r.validatingFields,o))}),_.state.next({validatingFields:r.validatingFields,isValidating:!B(r.validatingFields)}))},p=(i,u=[],o,g,d=!0,c=!0)=>{if(g&&o){if(l.action=!0,c&&Array.isArray(f(s,i))){const v=o(f(s,i),g.argA,g.argB);d&&k(s,i,v)}if(c&&Array.isArray(f(r.errors,i))){const v=o(f(r.errors,i),g.argA,g.argB);d&&k(r.errors,i,v),lt(r.errors,i)}if(F.touchedFields&&c&&Array.isArray(f(r.touchedFields,i))){const v=o(f(r.touchedFields,i),g.argA,g.argB);d&&k(r.touchedFields,i,v)}F.dirtyFields&&(r.dirtyFields=Ae(n,a)),_.state.next({name:i,isDirty:V(i,u),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else k(a,i,u)},J=(i,u)=>{k(r.errors,i,u),_.state.next({errors:r.errors})},Q=i=>{r.errors=i,_.state.next({errors:r.errors,isValid:!1})},m=(i,u,o,g)=>{const d=f(s,i);if(d){const c=f(a,i,C(o)?f(n,i):o);C(c)||g&&g.defaultChecked||u?k(a,i,u?c:He(d._f)):T(i,c),l.mount&&Y()}},b=(i,u,o,g,d)=>{let c=!1,v=!1;const S={name:i},I=!!(f(s,i)&&f(s,i)._f.disabled);if(!o||g){F.isDirty&&(v=r.isDirty,r.isDirty=S.isDirty=V(),c=v!==S.isDirty);const $=I||ne(f(n,i),u);v=!!(!I&&f(r.dirtyFields,i)),$||I?N(r.dirtyFields,i):k(r.dirtyFields,i,!0),S.dirtyFields=r.dirtyFields,c=c||F.dirtyFields&&v!==!$}if(o){const $=f(r.touchedFields,i);$||(k(r.touchedFields,i,o),S.touchedFields=r.touchedFields,c=c||F.touchedFields&&$!==o)}return c&&d&&_.state.next(S),c?S:{}},A=(i,u,o,g)=>{const d=f(r.errors,i),c=F.isValid&&ee(u)&&r.isValid!==u;if(e.delayError&&o?(h=de(()=>J(i,o)),h(e.delayError)):(clearTimeout(w),h=null,o?k(r.errors,i,o):N(r.errors,i)),(o?!ne(d,o):d)||!B(g)||c){const v={...g,...c&&ee(u)?{isValid:u}:{},errors:r.errors,name:i};r={...r,...v},_.state.next(v)}},R=async i=>{Z(i,!0);const u=await t.resolver(a,t.context,nt(i||y.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return Z(i),u},K=async i=>{const{errors:u}=await R(i);if(i)for(const o of i){const g=f(u,o);g?k(r.errors,o,g):N(r.errors,o)}else r.errors=u;return u},j=async(i,u,o={valid:!0})=>{for(const g in i){const d=i[g];if(d){const{_f:c,...v}=d;if(c){const S=y.array.has(c.name);Z([g],!0);const I=await ze(d,a,L,t.shouldUseNativeValidation&&!u,S);if(Z([g]),I[c.name]&&(o.valid=!1,u))break;!u&&(f(I,c.name)?S?Dr(r.errors,I,c.name):k(r.errors,c.name,I[c.name]):N(r.errors,c.name))}v&&await j(v,u,o)}}return o.valid},xe=()=>{for(const i of y.unMount){const u=f(s,i);u&&(u._f.refs?u._f.refs.every(o=>!qe(o)):!qe(u._f.ref))&&Re(i)}y.unMount=new Set},V=(i,u)=>(i&&u&&k(a,i,u),!ne(Ze(),n)),D=(i,u,o)=>pr(i,y,{...l.mount?a:C(u)?n:re(i)?{[i]:u}:u},o,u),O=i=>fe(f(l.mount?a:n,i,e.shouldUnregister?f(n,i,[]):[])),T=(i,u,o={})=>{const g=f(s,i);let d=u;if(g){const c=g._f;c&&(!c.disabled&&k(a,i,Ir(u,c)),d=we(c.ref)&&P(u)?"":u,kr(c.ref)?[...c.ref.options].forEach(v=>v.selected=d.includes(v.value)):c.refs?be(c.ref)?c.refs.length>1?c.refs.forEach(v=>(!v.defaultChecked||!v.disabled)&&(v.checked=Array.isArray(d)?!!d.find(S=>S===v.value):d===v.value)):c.refs[0]&&(c.refs[0].checked=!!d):c.refs.forEach(v=>v.checked=v.value===d):Xe(c.ref)?c.ref.value="":(c.ref.value=d,c.ref.type||_.values.next({name:i,values:{...a}})))}(o.shouldDirty||o.shouldTouch)&&b(i,d,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&me(i)},X=(i,u,o)=>{for(const g in u){const d=u[g],c=`${i}.${g}`,v=f(s,c);(y.array.has(i)||!Se(d)||v&&!v._f)&&!le(d)?X(c,d,o):T(c,d,o)}},G=(i,u,o={})=>{const g=f(s,i),d=y.array.has(i),c=U(u);k(a,i,c),d?(_.array.next({name:i,values:{...a}}),(F.isDirty||F.dirtyFields)&&o.shouldDirty&&_.state.next({name:i,dirtyFields:Ae(n,a),isDirty:V(i,c)})):g&&!g._f&&!P(c)?X(i,c,o):T(i,c,o),Ge(i,y)&&_.state.next({...r}),_.values.next({name:l.mount?i:void 0,values:{...a}})},ye=async i=>{l.mount=!0;const u=i.target;let o=u.name,g=!0;const d=f(s,o),c=()=>u.type?He(d._f):_r(i),v=S=>{g=Number.isNaN(S)||S===f(a,o,S)};if(d){let S,I;const $=c(),ue=i.type===pe.BLUR||i.type===pe.FOCUS_OUT,$r=!ut(d._f)&&!t.resolver&&!f(r.errors,o)&&!d._f.deps||ot(ue,f(r.touchedFields,o),r.isSubmitted,H,E),Ne=Ge(o,y,ue);k(a,o,$),ue?(d._f.onBlur&&d._f.onBlur(i),h&&h(0)):d._f.onChange&&d._f.onChange(i);const Oe=b(o,$,ue,!1),Wr=!B(Oe)||Ne;if(!ue&&_.values.next({name:o,type:i.type,values:{...a}}),$r)return F.isValid&&Y(),Wr&&_.state.next({name:o,...Ne?{}:Oe});if(!ue&&Ne&&_.state.next({...r}),t.resolver){const{errors:ur}=await R([o]);if(v($),g){const qr=gr(r.errors,s,o),or=gr(ur,s,qr.name||o);S=or.error,o=or.name,I=B(ur)}}else Z([o],!0),S=(await ze(d,a,L,t.shouldUseNativeValidation))[o],Z([o]),v($),g&&(S?I=!1:F.isValid&&(I=await j(s,!0)));g&&(d._f.deps&&me(d._f.deps),A(o,I,S,Oe))}},ge=(i,u)=>{if(f(r.errors,u)&&i.focus)return i.focus(),1},me=async(i,u={})=>{let o,g;const d=W(i);if(t.resolver){const c=await K(C(i)?i:d);o=B(c),g=i?!d.some(v=>f(c,v)):o}else i?(g=(await Promise.all(d.map(async c=>{const v=f(s,c);return await j(v&&v._f?{[c]:v}:v)}))).every(Boolean),!(!g&&!r.isValid)&&Y()):g=o=await j(s);return _.state.next({...!re(i)||F.isValid&&o!==r.isValid?{}:{name:i},...t.resolver||!i?{isValid:o}:{},errors:r.errors}),u.shouldFocus&&!g&&ce(s,ge,i?d:y.mount),g},Ze=i=>{const u={...l.mount?a:n};return C(i)?u:re(i)?f(u,i):i.map(o=>f(u,o))},er=(i,u)=>({invalid:!!f((u||r).errors,i),isDirty:!!f((u||r).dirtyFields,i),isTouched:!!f((u||r).touchedFields,i),isValidating:!!f((u||r).validatingFields,i),error:f((u||r).errors,i)}),Tr=i=>{i&&W(i).forEach(u=>N(r.errors,u)),_.state.next({errors:i?r.errors:{}})},rr=(i,u,o)=>{const g=(f(s,i,{_f:{}})._f||{}).ref,d=f(r.errors,i)||{},{ref:c,message:v,type:S,...I}=d;k(r.errors,i,{...I,...u,ref:g}),_.state.next({name:i,errors:r.errors,isValid:!1}),o&&o.shouldFocus&&g&&g.focus&&g.focus()},jr=(i,u)=>ae(i)?_.values.subscribe({next:o=>i(D(void 0,u),o)}):D(i,u,!0),Re=(i,u={})=>{for(const o of i?W(i):y.mount)y.mount.delete(o),y.array.delete(o),u.keepValue||(N(s,o),N(a,o)),!u.keepError&&N(r.errors,o),!u.keepDirty&&N(r.dirtyFields,o),!u.keepTouched&&N(r.touchedFields,o),!u.keepIsValidating&&N(r.validatingFields,o),!t.shouldUnregister&&!u.keepDefaultValue&&N(n,o);_.values.next({values:{...a}}),_.state.next({...r,...u.keepDirty?{isDirty:V()}:{}}),!u.keepIsValid&&Y()},tr=({disabled:i,name:u,field:o,fields:g,value:d})=>{if(ee(i)&&l.mount||i){const c=i?void 0:C(d)?He(o?o._f:f(g,u)._f):d;k(a,u,c),b(u,c,!1,!1,!0)}},Ie=(i,u={})=>{let o=f(s,i);const g=ee(u.disabled);return k(s,i,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:i}},name:i,mount:!0,...u}}),y.mount.add(i),o?tr({field:o,disabled:u.disabled,name:i,value:u.value}):m(i,!0,u.value),{...g?{disabled:u.disabled}:{},...t.progressive?{required:!!u.required,min:ve(u.min),max:ve(u.max),minLength:ve(u.minLength),maxLength:ve(u.maxLength),pattern:ve(u.pattern)}:{},name:i,onChange:ye,onBlur:ye,ref:d=>{if(d){Ie(i,u),o=f(s,i);const c=C(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,v=at(c),S=o._f.refs||[];if(v?S.find(I=>I===c):c===o._f.ref)return;k(s,i,{_f:{...o._f,...v?{refs:[...S.filter(qe),c,...Array.isArray(f(n,i))?[{}]:[]],ref:{type:c.type,name:i}}:{ref:c}}}),m(i,!1,void 0,c)}else o=f(s,i,{}),o._f&&(o._f.mount=!1),(t.shouldUnregister||u.shouldUnregister)&&!(hr(y.array,i)&&l.action)&&y.unMount.add(i)}}},sr=()=>t.shouldFocusError&&ce(s,ge,y.mount),Pr=i=>{ee(i)&&(_.state.next({disabled:i}),ce(s,(u,o)=>{const g=f(s,o);g&&(u.disabled=g._f.disabled||i,Array.isArray(g._f.refs)&&g._f.refs.forEach(d=>{d.disabled=g._f.disabled||i}))},0,!1))},ir=(i,u)=>async o=>{let g;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let d=U(a);if(_.state.next({isSubmitting:!0}),t.resolver){const{errors:c,values:v}=await R();r.errors=c,d=v}else await j(s);if(N(r.errors,"root"),B(r.errors)){_.state.next({errors:{}});try{await i(d,o)}catch(c){g=c}}else u&&await u({...r.errors},o),sr(),setTimeout(sr);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:B(r.errors)&&!g,submitCount:r.submitCount+1,errors:r.errors}),g)throw g},Br=(i,u={})=>{f(s,i)&&(C(u.defaultValue)?G(i,U(f(n,i))):(G(i,u.defaultValue),k(n,i,U(u.defaultValue))),u.keepTouched||N(r.touchedFields,i),u.keepDirty||(N(r.dirtyFields,i),r.isDirty=u.defaultValue?V(i,U(f(n,i))):V()),u.keepError||(N(r.errors,i),F.isValid&&Y()),_.state.next({...r}))},ar=(i,u={})=>{const o=i?U(i):n,g=U(o),d=B(i),c=d?n:g;if(u.keepDefaultValues||(n=o),!u.keepValues){if(u.keepDirtyValues)for(const v of y.mount)f(r.dirtyFields,v)?k(c,v,f(a,v)):G(v,f(c,v));else{if(Je&&C(i))for(const v of y.mount){const S=f(s,v);if(S&&S._f){const I=Array.isArray(S._f.refs)?S._f.refs[0]:S._f.ref;if(we(I)){const $=I.closest("form");if($){$.reset();break}}}}s={}}a=e.shouldUnregister?u.keepDefaultValues?U(n):{}:U(c),_.array.next({values:{...c}}),_.values.next({values:{...c}})}y={mount:u.keepDirtyValues?y.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!F.isValid||!!u.keepIsValid||!!u.keepDirtyValues,l.watch=!!e.shouldUnregister,_.state.next({submitCount:u.keepSubmitCount?r.submitCount:0,isDirty:d?!1:u.keepDirty?r.isDirty:!!(u.keepDefaultValues&&!ne(i,n)),isSubmitted:u.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:d?[]:u.keepDirtyValues?u.keepDefaultValues&&a?Ae(n,a):r.dirtyFields:u.keepDefaultValues&&i?Ae(n,i):{},touchedFields:u.keepTouched?r.touchedFields:{},errors:u.keepErrors?r.errors:{},isSubmitSuccessful:u.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},nr=(i,u)=>ar(ae(i)?i(a):i,u);return{control:{register:Ie,unregister:Re,getFieldState:er,handleSubmit:ir,setError:rr,_executeSchema:R,_getWatch:D,_getDirty:V,_updateValid:Y,_removeUnmounted:xe,_updateFieldArray:p,_updateDisabledField:tr,_getFieldArray:O,_reset:ar,_resetDefaultValues:()=>ae(t.defaultValues)&&t.defaultValues().then(i=>{nr(i,t.resetOptions),_.state.next({isLoading:!1})}),_updateFormState:i=>{r={...r,...i}},_disableForm:Pr,_subjects:_,_proxyFormState:F,_setErrors:Q,get _fields(){return s},get _formValues(){return a},get _state(){return l},set _state(i){l=i},get _defaultValues(){return n},get _names(){return y},set _names(i){y=i},get _formState(){return r},set _formState(i){r=i},get _options(){return t},set _options(i){t={...t,...i}}},trigger:me,register:Ie,handleSubmit:ir,watch:jr,setValue:G,getValues:Ze,reset:nr,resetField:Br,clearErrors:Tr,unregister:Re,setError:rr,setFocus:(i,u={})=>{const o=f(s,i),g=o&&o._f;if(g){const d=g.refs?g.refs[0]:g.ref;d.focus&&(d.focus(),u.shouldSelect&&d.select())}},getFieldState:er}}function It(e={}){const t=x.useRef(),r=x.useRef(),[s,n]=x.useState({isDirty:!1,isValidating:!1,isLoading:ae(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ae(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...ft(e),formState:s});const a=t.current.control;return a._options=e,ke({subject:a._subjects.state,next:l=>{Ar(l,a._proxyFormState,a._updateFormState,!0)&&n({...a._formState})}}),x.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),x.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==s.isDirty&&a._subjects.state.next({isDirty:l})}},[a,s.isDirty]),x.useEffect(()=>{e.values&&!ne(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,n(l=>({...l}))):a._resetDefaultValues()},[e.values,a]),x.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),x.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),x.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=xr(s,a),t.current}var mr=function(e,t,r){if(e&&"reportValidity"in e){var s=f(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},Nr=function(e,t){var r=function(n){var a=t.fields[n];a&&a.ref&&"reportValidity"in a.ref?mr(a.ref,n,e):a.refs&&a.refs.forEach(function(l){return mr(l,n,e)})};for(var s in t.fields)r(s)},dt=function(e){return e instanceof Date},yt=function(e){return e==null},gt=function(e){return typeof e=="object"},mt=function(e){return!yt(e)&&!Array.isArray(e)&&gt(e)&&!dt(e)},vt=function(e){return/^\w*$/.test(e)},Ke=function(e,t,r){for(var s=-1,n=vt(t)?[t]:function(F){return _=F.replace(/["|']|\]/g,"").split(/\.|\[/),Array.isArray(_)?_.filter(Boolean):[];var _}(t),a=n.length,l=a-1;++s<a;){var y=n[s],h=r;if(s!==l){var w=e[y];h=mt(w)||Array.isArray(w)?w:isNaN(+n[s+1])?{}:[]}e[y]=h,e=e[y]}return e},_t=function(e,t){t.shouldUseNativeValidation&&Nr(e,t);var r={};for(var s in e){var n=f(t.fields,s),a=Object.assign(e[s]||{},{ref:n&&n.ref});if(ht(t.names||Object.keys(e),s)){var l=Object.assign({},f(r,s));Ke(l,"root",a),Ke(r,s,l)}else Ke(r,s,a)}return r},ht=function(e,t){return e.some(function(r){return r.startsWith(t+".")})},bt=function(e,t){for(var r={};e.length;){var s=e[0],n=s.code,a=s.message,l=s.path.join(".");if(!r[l])if("unionErrors"in s){var y=s.unionErrors[0].errors[0];r[l]={message:y.message,type:y.code}}else r[l]={message:a,type:n};if("unionErrors"in s&&s.unionErrors.forEach(function(F){return F.errors.forEach(function(_){return e.push(_)})}),t){var h=r[l].types,w=h&&h[s.code];r[l]=wr(l,t,r,n,w?[].concat(w,s.message):s.message)}e.shift()}return r},Nt=function(e,t,r){return r===void 0&&(r={}),function(s,n,a){try{return Promise.resolve(function(l,y){try{var h=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(w){return a.shouldUseNativeValidation&&Nr({},a),{errors:{},values:r.raw?s:w}})}catch(w){return y(w)}return h&&h.then?h.then(void 0,y):h}(0,function(l){if(function(y){return y.errors!=null}(l))return{values:{},errors:_t(bt(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}}};const Ft=q.forwardRef((e,t)=>q.createElement(Hr.label,Kr({},e,{ref:t,onMouseDown:r=>{var s;(s=e.onMouseDown)===null||s===void 0||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault()}}))),Or=Ft,xt=Gr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ur=q.forwardRef(({className:e,...t},r)=>se.jsx(Or,{ref:r,className:he(xt(),e),...t}));Ur.displayName=Or.displayName;const Ot=Xr,Mr=q.createContext({}),Ut=({...e})=>se.jsx(Mr.Provider,{value:{name:e.name},children:se.jsx(rt,{...e})}),Ce=()=>{const e=q.useContext(Mr),t=q.useContext(Lr),{getFieldState:r,formState:s}=Fe(),n=r(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...n}},Lr=q.createContext({}),At=q.forwardRef(({className:e,...t},r)=>{const s=q.useId();return se.jsx(Lr.Provider,{value:{id:s},children:se.jsx("div",{ref:r,className:he("space-y-2",e),...t})})});At.displayName="FormItem";const Vt=q.forwardRef(({className:e,...t},r)=>{const{error:s,formItemId:n}=Ce();return se.jsx(Ur,{ref:r,className:he(s&&"text-destructive",e),htmlFor:n,...t})});Vt.displayName="FormLabel";const pt=q.forwardRef(({...e},t)=>{const{error:r,formItemId:s,formDescriptionId:n,formMessageId:a}=Ce();return se.jsx(zr,{ref:t,id:s,"aria-describedby":r?`${n} ${a}`:`${n}`,"aria-invalid":!!r,...e})});pt.displayName="FormControl";const wt=q.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:s}=Ce();return se.jsx("p",{ref:r,id:s,className:he("text-[0.8rem] text-muted-foreground",e),...t})});wt.displayName="FormDescription";const Dt=q.forwardRef(({className:e,children:t,...r},s)=>{const{error:n,formMessageId:a}=Ce(),l=n?String(n==null?void 0:n.message):t;return l?se.jsx("p",{ref:s,id:a,className:he("text-[0.8rem] font-medium text-destructive",e),...r,children:l}):null});Dt.displayName="FormMessage";export{rt as C,Ot as F,Ut as a,At as b,Vt as c,pt as d,Dt as e,wt as f,Rt as g,Nt as t,It as u};
